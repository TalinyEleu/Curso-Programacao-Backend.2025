# SQL, o que √©?
## INTRODU√á√ÉO
Com o SQL, voc√™ pode construir e ajustar a estrutura dos bancos de dados, definindo tabelas, √≠ndices e outras pe√ßas importantes para organizar suas informa√ß√µes. Para encontrar dados existem comandos como SELECT, FROM e WHERE. Comandos como INSERT, UPDATE e DELETE permitem adicionar, modificar e excluir registros das tabelas conforme necess√°rio.
Al√©m disso, o SQL √© seu parceiro para realizar an√°lises profundas nos dados, calculando totais, m√©dias, desvios padr√£o e outras estat√≠sticas importantes para lhe ajudar a tomar decis√µes embasadas. 
O SQL √© a cola que une sistemas e aplica√ß√µes, permitindo que eles se comuniquem com os bancos de dados para armazenar, recuperar e manipular dados de maneira eficiente.

## PRINC√çPIOS DO SQL (Structure Query Language)
- **Estrutura√ß√£o dos comandos:** aqui, a organiza√ß√£o √© a chave. Os comandos SQL s√£o meticulosamente estruturados em cl√°usulas, cada uma com sua fun√ß√£o espec√≠fica.
- **Sintaxe e sem√¢ntica:** imagine a sintaxe como a gram√°tica do SQL. Cada comando segue regras precisas para garantir que seja compreendido e executado corretamente pelo banco de dados.
- **Interoperabilidade:** aqui reside uma das maiores for√ßas do SQL. Sua capacidade de ser amplamente suportado por diferentes sistemas de gerenciamento de banco de dados (SGBDs) torna-o uma escolha poderosa para desenvolvedores e administradores de banco de dados. Isso significa que o c√≥digo SQL escrito para um SGBD espec√≠fico pode ser facilmente transferido para outro, sem a necessidade de grandes modifica√ß√µes. Essa interoperabilidade √© crucial em ambientes onde a portabilidade e a compatibilidade s√£o essenciais.

## PRINCIPAIS COMPONENTES DO SQL
- **DDL:** CREATE, ALTER, DROP, ALTER, RENAME, TRUNCATE, COMMENT.
- **DML:** INSERT, UPDATE, DELETE, MERGE, CALL, EXPLAIN PLAN, LOCK TABLE.
- **DQL:** SELECT.
- **DCL:** GRANT, REVOKE.
- **TCL:** COMMIT, ROLLBACK, SAVEPOINT, SET TRANSACTION.

#### DDL
A **DDL** √© a arquiteta do nosso banco de dados. A responsabilidade por construir e alterar a estrutura de nosso banco de dados recai sobre ela.
- CREATE TABLE: criar uma tabela. Voc√™ especifica o nome da tabela e, em seguida, lista as colunas que deseja incluir, juntamente com o tipo de dados que cada coluna pode armazenar. Por exemplo:
```
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50),
    idade INT,
    email VARCHAR(100)
);
```
- ALTER TABLE: se precisar fazer altera√ß√µes na estrutura de uma tabela existente, voc√™ usa o comando ALTER TABLE. Por exemplo, se quiser adicionar uma nova coluna √† tabela ‚Äúclientes‚Äù, pode fazer assim:
```
ALTER TABLE clientes
ADD COLUMN telefone VARCHAR(20);
```

- DROP TABLE: se precisar remover uma tabela completamente do seu banco de dados, voc√™ pode usar o comando DROP TABLE. Por exemplo:
```
DROP TABLE clientes;
```


#### DML
Depois disso, temos a DML, que funciona como um trabalhador que mexe diretamente nos dados de nossa tabela. 
- INSERT INTO: pode ser usado para adicionar novos registros  a uma tabela existente no seu banco de dados. Voc√™ especifica o nome da tabela e, em seguida, lista os valores que deseja adicionar para cada coluna. Por exemplo:
```
INSERT INTO clientes (nome, idade, email)
VALUES (‚ÄòJo√£o‚Äô, 30, ‚Äòjoao@email.com‚Äô);
```

- UPDATE: podem ser usados para alterar informa√ß√µes j√° existentes. Por exemplo, se quiser alterar o e-mail de um cliente chamado ‚ÄúJo√£o‚Äù, pode fazer assim:
```
UPDATE clientes
SET email = ‚Äòjoao.novo@email.com‚Äô
WHERE nome = ‚ÄòJo√£o‚Äô;
```

- DELETE FROM: remo√ß√£o de dados.  Por exemplo, se quiser excluir o registro do cliente ‚ÄúJo√£o‚Äù da tabela ‚Äúclientes‚Äù, pode fazer assim:
```
DELETE FROM clientes
WHERE nome = ‚ÄòJo√£o‚Äô;
```

#### DQL
A DQL funciona como nosso pr√≥prio detetive. Ao fazer perguntas espec√≠ficas ao nosso banco de dados, ela nos ajuda a obter as respostas de que precisamos.
- SELECT: buscar dados de uma ou mais tabelas e aplicar filtros para encontrar o que buscamos. Voc√™ pode especificar quais colunas deseja recuperar e aplicar filtros para limitar os resultados. Por exemplo:
```
SELECT nome, idade
FROM clientes
WHERE cidade = ‚ÄòS√£o Paulo‚Äô;
```

Este comando ir√° recuperar os nomes e idades de todos os clientes que moram em S√£o Paulo, por exemplo. Al√©m disso, voc√™ pode usar cl√°usulas adicionais para refinar ainda mais sua consulta:
- WHERE: permite aplicar condi√ß√µes para filtrar os resultados com base em crit√©rios espec√≠ficos.
- ORDER BY: permite classificar os resultados em ordem ascendente ou descendente com base em uma ou mais colunas.
- GROUP BY: agrupa os resultados com base nos valores de uma ou mais colunas.
- HAVING: permite aplicar condi√ß√µes de filtro a grupos criados pela cl√°usula GROUP BY.


Resumindo, a DDL nos ajuda a construir a casa (ou seja, a estrutura do banco de dados), a DML nos ajuda a decorar cada c√¥modo (ou seja, manipular os dados) e a DQL nos ajuda a encontrar o que estamos procurando dentro dessa casa. Com a DDL, voc√™ pode criar e modificar a estrutura do seu banco de dados. Isso inclui a cria√ß√£o de tabelas para armazenar seus dados, a defini√ß√£o das colunas dentro dessas tabelas e a especifica√ß√£o de quais tipos de dados cada coluna pode armazenar.

#### OPERA√á√ÉO JOIN 
A opera√ß√£o chamada JOIN √© um comando que une informa√ß√µes para consulta de dados de m√∫ltiplas tabelas.

- **INNER JOIN:** este √© como um encontro perfeito! Ele retorna apenas as linhas que t√™m correspond√™ncias nas duas tabelas, ou seja, apenas os dados que t√™m algo em comum.
- **LEFT JOIN:** aqui √© como abrir uma porta. Retorna todas as linhas da tabela √† esquerda e as correspondentes da tabela √† direita, ou NULL se n√£o houver correspond√™ncia. √â como convidar todos para a festa, mesmo que alguns convidados n√£o apare√ßam.
- **RIGHT JOIN:** √© parecido com o LEFT JOIN, mas inverte os pap√©is. Retorna todas as linhas da tabela √† direita e as correspondentes da tabela √† esquerda, ou NULL se n√£o houver correspond√™ncia.
- **FULL JOIN:** este √© como ter todos os ingredientes na receita, n√£o importa de onde eles venham. Retorna todas as linhas quando h√° uma correspond√™ncia em uma das tabelas.

![JOIN](imagens/13.png)

---

## Exemplo: 
Considere a situa√ß√£o em que voc√™ tem duas tabelas: ‚Äúclientes‚Äù e ‚Äúpedidos‚Äù. Todos os pedidos est√£o relacionados a um cliente, n√£o √©? Voc√™ pode usar um INNER JOIN para ver os detalhes do pedido, incluindo o nome do cliente. Juntar pe√ßas de quebra-cabe√ßa para ver a imagem completa √© semelhante 
a isso. Imagine que temos informa√ß√µes de clientes como nome, endere√ßo e telefone em uma tabela. Al√©m disso, a tabela ‚Äúpedidos‚Äù cont√©m informa√ß√µes como n√∫mero, data e valor total, al√©m de uma coluna ‚Äúid_cliente‚Äù que representa o cliente. Voc√™ pode usar um INNER JOIN para unir essas duas tabelas se quiser ver o nome do cliente e os detalhes do pedido. √â como ligar os clientes aos pedidos. 

```
SELECT clientes.nome, pedidos.numero_pedido, pedidos.data, pedidos.valor_total
FROM clientes
INNER JOIN pedidos ON clientes.id = pedidos.id_cliente;
```

Aqui, voc√™ est√° selecionando o nome do cliente da tabela ‚Äúclientes‚Äù e o n√∫mero do pedido, a data e 
o valor total da tabela ‚Äúpedidos‚Äù. Depois, voc√™ usa o INNER JOIN para unir as duas tabelas com base 
na condi√ß√£o de que o ‚Äúid‚Äù do cliente na tabela ‚Äúclientes‚Äù seja igual ao ‚Äúid_cliente‚Äù na tabela ‚Äúpedidos‚Äù.
Assim, voc√™ obt√©m uma lista que mostra o nome de cada cliente junto com os detalhes de todos os 
pedidos que ele fez.

---

---
üìå Este material √© destinado a fins educacionais e introdut√≥rios.